<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Loïc Penaud - développement</title><link href="https://lpenaud.github.io/" rel="alternate"></link><link href="https://lpenaud.github.io/feeds/developpement.atom.xml" rel="self"></link><id>https://lpenaud.github.io/</id><updated>2020-04-27T15:40:11+02:00</updated><subtitle>Développeur Back-end</subtitle><entry><title>Deno - Une nouvelle façon d'utiliser le JavaScript</title><link href="https://lpenaud.github.io/deno-une-nouvelle-facon-dutiliser-le-javascript.html" rel="alternate"></link><published>2020-04-27T15:40:11+02:00</published><updated>2020-04-27T15:40:11+02:00</updated><author><name>Penaud Loïc</name></author><id>tag:lpenaud.github.io,2020-04-27:/deno-une-nouvelle-facon-dutiliser-le-javascript.html</id><summary type="html">&lt;p class="first last"&gt;Comment évolue Deno ? Le nouvel environnement d'éxecution JavaScript annoncé par Ryan Dahl créateur de Node 2 ans après son annonce.&lt;/p&gt;
</summary><content type="html">&lt;p&gt;Le JavaScript a bien évolué depuis la création en 2010 de Node, ce qui n'est pas passé inaperçus par Ryan Dahl et son équipe.
C'est pourquoi avant de parler de Deno parlons un peu de l'évolution du JavaScript.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;div class="contents topic" id="sommaire"&gt;
&lt;p class="topic-title first"&gt;Sommaire&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference internal" href="#pourquoi-node" id="id2"&gt;Pourquoi Node ?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#es6-la-grosse-mise-a-jour" id="id3"&gt;ES6 - La grosse mise-à-jour&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#probleme-liees-a-node" id="id4"&gt;Problème liées à Node&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="#promise" id="id5"&gt;Promise&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#securite" id="id6"&gt;Sécurité&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#le-systeme-de-compilation-de-module-natifs-gyp" id="id7"&gt;Le système de compilation de module natifs GYP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#les-systeme-de-modules" id="id8"&gt;Les système de modules&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="#package-json" id="id9"&gt;package.json&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#node-modules" id="id10"&gt;node_modules&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;hr class="docutils" /&gt;
&lt;div class="section" id="pourquoi-node"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Pourquoi Node ?&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;L'idée derière la création de Node était d'avoir un système asynchrones permettant de supporter un grand nombres d'entrées et de sorties (par exemple, les sockets ou les fichiers).&lt;/p&gt;
&lt;p&gt;Donc, pour ça Ryan Dahl a utilisé &lt;a class="reference external" href="https://fr.wikipedia.org/wiki/V8_(moteur_JavaScript)"&gt;V8&lt;/a&gt;, le moteur JavaScript, développé par Google pour le projet &lt;a class="reference external" href="https://fr.wikipedia.org/wiki/Chromium"&gt;Chromium&lt;/a&gt;.
Puis, dans l'optique de simplier la vie des développeurs, il créa la fonction &lt;a class="reference external" href="https://nodejs.org/fr/knowledge/getting-started/what-is-require/"&gt;require&lt;/a&gt; permettant d'importer des modules et des fichiers JSON ou JavaScript.
Ensuite, il rajouta un gestionnaire de paquets &lt;a class="reference external" href="https://www.npmjs.com/"&gt;npm&lt;/a&gt; permettant aux développeurs de partager leurs modules.
De plus, Node posséde une bibliothéque standard riche.&lt;/p&gt;
&lt;p&gt;L'un des problèmes, c'est que le JavaScript a bien changé depuis 2010, surtout depuis &lt;a class="reference external" href="#es6-la-grosse-mise-a-jour"&gt;ES6&lt;/a&gt;.&lt;/p&gt;
&lt;div class="admonition hint"&gt;
&lt;p class="first admonition-title"&gt;Indication&lt;/p&gt;
&lt;p class="last"&gt;Pourquoi le JavaScript ? La réponse est simple : la boucle d'événement.
Cette boucle est un peu comme une vigile. Elle permet d'organiser l'éxecution des fonctions asynchrones.
Je ne rentrerai pas dans les détails de celle-ci, puisqu'elle meriterait un article à elle seule.
De plus, si vous êtes à l'aise avec l'anglais vous pouvez regarder la présentation &lt;a class="reference external" href="https://youtu.be/8aGhZQkoFbQ"&gt;What the heck is the event loop anyway? | Philip Roberts | JSConf EU&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="es6-la-grosse-mise-a-jour"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#sommaire"&gt;ES6 - La grosse mise-à-jour&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Pour rappel, JavaScript suit les normes standards ECMAScript dictées par l'&lt;a class="reference external" href="https://www.ecma-international.org/"&gt;ECMA&lt;/a&gt; (European Association for Standardizing Information and Communication Systems). &lt;a class="reference external" href="https://www.ecma-international.org/"&gt;ECMA&lt;/a&gt; est une association d'industriel qui existe depuis 1961 qui proposes différentes normes et standards dans le domaines de l'informatique.&lt;/p&gt;
&lt;p&gt;ECMAScript 6&lt;sup&gt;e&lt;/sup&gt; a fait 2 gros ajouts :&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Le système de module avec les mots-clés &lt;a class="reference external" href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Instructions/import"&gt;import&lt;/a&gt;, &lt;a class="reference external" href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Instructions/export"&gt;export&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Le système des promesses asynchrones avec la classe &lt;a class="reference external" href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise"&gt;Promise&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;L'ES8 continue l'évolution des promesses en rajoutant d'autre méthodes en lien avec la classe &lt;a class="reference external" href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise"&gt;Promise&lt;/a&gt; et en rajoutant les mots-clés &lt;a class="reference external" href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Instructions/async_function"&gt;async&lt;/a&gt; et &lt;a class="reference external" href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Op%C3%A9rateurs/await"&gt;await&lt;/a&gt; afin de simplifier encore plus, le système des promesses asynchrones, en éliminant l'utilisation des fonctions de rappelles (callback).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="probleme-liees-a-node"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Problème liées à Node&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;C'est en 2018 que le créateur de Node, a fait une conférence qui s'appelle &lt;a class="reference external" href="https://youtu.be/M3BM9TB-8yA"&gt;10 Things I Regret About Node.js (10 choses que je regrette à propos de Node.js)&lt;/a&gt; (sous-titre en français disponible) où Ryan Dahl expose les problèmes de Node liée à sa conception.&lt;/p&gt;
&lt;div class="admonition important"&gt;
&lt;p class="first admonition-title"&gt;Important&lt;/p&gt;
&lt;p class="last"&gt;J'expose ici avec mes mots, l'avis de Ryan Dahl et de son équipe.
Par contre, ma conclusion, mon avis.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="promise"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Promise&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;La bibliothéque standard de Node posséde de nombreuse fonctions asynchrones, le problème c'est qu'elles ne sont pas compatible avec les promesses.
Par conséquent, ces fonctions sont incompatibles avec la syntaxe &lt;a class="reference external" href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Instructions/async_function"&gt;async&lt;/a&gt; et &lt;a class="reference external" href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Op%C3%A9rateurs/await"&gt;await&lt;/a&gt;.&lt;/p&gt;
&lt;div class="admonition hint"&gt;
&lt;p class="first admonition-title"&gt;Indication&lt;/p&gt;
&lt;p class="last"&gt;D'ailleurs dans la conférence, Ryan Dahl explique qu'il avait ajouté les promesses en juin 2009.
Mais il les a supprimé en février 2010, car il voulait que son API, soit la plus simple possible.
Il n'aurait pas pris cette décission s'il avait sus quel impact aurait les promesses dans le JavaScript d'aujourd'hui.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="securite"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Sécurité&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Node donne accées à tout imédiatement, aux système de fichier, aux ports réseaux...
Ce qui pose des problèmes puisque par exemple, via un scripts on imaginer quelqu'un qui copie des fichiers confidentiels (comme des clés SSH par exemple) et les envois via les interfaces réseaux.&lt;/p&gt;
&lt;div class="admonition hint"&gt;
&lt;p class="first admonition-title"&gt;Indication&lt;/p&gt;
&lt;p class="last"&gt;À noter que &lt;a class="reference external" href="https://fr.wikipedia.org/wiki/V8_(moteur_JavaScript)"&gt;V8&lt;/a&gt; exécute le code dans une machine virtuelle, donc on pourrait restraintre l'accées au système.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="le-systeme-de-compilation-de-module-natifs-gyp"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Le système de compilation de module natifs GYP&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/nodejs/node-gyp"&gt;node-gyp&lt;/a&gt; est un système permettant de compiler des modules natifs programmer en &lt;cite&gt;C&lt;/cite&gt;, &lt;cite&gt;C++&lt;/cite&gt; pour pouvoir les utiliser en JavaScript.
Le problème de ce système c'est qu'il n'a pas été bien pensé, car :&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Plein de couche inutile (JSON, &lt;a class="reference external" href="https://fr.wikipedia.org/wiki/Python_(langage)"&gt;Python&lt;/a&gt;, &lt;a class="reference external" href="https://github.com/nodejs/node-gyp"&gt;node-gyp&lt;/a&gt;, &lt;a class="reference external" href="https://gyp.gsrc.io/"&gt;gyp&lt;/a&gt;) qui rajoute de la compléxité.&lt;/li&gt;
&lt;li&gt;Le fait qu'il n'est pas une interface de fonction étrangère (&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Foreign_function_interface"&gt;FFI&lt;/a&gt;) qui permet aux développeur d'appeller une fonction à partir d'un fichier bibliothéque (&lt;tt class="docutils literal"&gt;.dll&lt;/tt&gt; pour Windows, &lt;tt class="docutils literal"&gt;.so&lt;/tt&gt; pour GNU / Linux) comme en &lt;a class="reference external" href="https://fr.wikipedia.org/wiki/Python_(langage)"&gt;Python&lt;/a&gt; avec le module &lt;a class="reference external" href="https://docs.python.org/3/library/ctypes.html"&gt;ctypes&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="admonition hint"&gt;
&lt;p class="first admonition-title"&gt;Indication&lt;/p&gt;
&lt;p class="last"&gt;De plus, &lt;a class="reference external" href="https://gyp.gsrc.io/"&gt;GYP&lt;/a&gt; vient du projet &lt;a class="reference external" href="https://fr.wikipedia.org/wiki/Chromium"&gt;chromium&lt;/a&gt;. Cependant, les développeurs de celui-ci ont arrêté de l'utiliser au profit de &lt;a class="reference external" href="https://gn.googlesource.com/gn/"&gt;GN&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="les-systeme-de-modules"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Les système de modules&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Le système de module CommonJS est celui utiliser par Node, cependant il n'a pas été développer ni standardisé par ECMA.&lt;/p&gt;
&lt;p&gt;Donc ce système différe de son anolog embarqué dans les navigateurs web :&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Une résolution de chemin dynamique ce qui entraine des requêtes inutiles aux système de fichiers et l'utilisation du fichier package.json.&lt;/li&gt;
&lt;li&gt;Le fait qu'on doit pas préciser l'extention &lt;cite&gt;.js&lt;/cite&gt; du fichier&lt;/li&gt;
&lt;li&gt;Le possibilité d'importer un dossier si celui-ci a un fichier &lt;tt class="docutils literal"&gt;index.js&lt;/tt&gt; (ajouter aux système, car Ryan Dahl trouvait sa mignon)&lt;/li&gt;
&lt;li&gt;L'impossibilité d'utiliser une URL pour importer des modules.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="admonition hint"&gt;
&lt;p class="first admonition-title"&gt;Indication&lt;/p&gt;
&lt;p class="last"&gt;Les 3 premiers points, permettent de gagner en abstration superflues.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="package-json"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="#sommaire"&gt;package.json&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Ce fichier permet d'avoir une descriptions du projet, la liste des dépendances du projet ainsi que leurs versions, des lignes de commandes et pleins d'autre informations qui ne sont pas forcément très utiles en tant que développeur.
Chaque projet Node doit obligatoirement avoir un fichier &lt;tt class="docutils literal"&gt;package.json&lt;/tt&gt; donc l'utilisation de &lt;a class="reference external" href="https://www.npmjs.com/"&gt;npm&lt;/a&gt; aussi, ce qui n'étais pas prévus.&lt;/p&gt;
&lt;p&gt;De plus, les modules disponible via &lt;a class="reference external" href="https://www.npmjs.com/"&gt;npm&lt;/a&gt; sont héberger de façon centralisé et privé.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="node-modules"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="#sommaire"&gt;node_modules&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Les problèmes de &lt;tt class="docutils literal"&gt;node_modules&lt;/tt&gt; sont liée avec ceux de &lt;a class="reference internal" href="#package-json"&gt;package.json&lt;/a&gt;. Du fait du système de résolution de dépendances, le dossier &lt;tt class="docutils literal"&gt;node_modules&lt;/tt&gt; a tendances à devenir très vite, très lourd.&lt;/p&gt;
&lt;div class="figure align-center"&gt;
&lt;img alt="node_modules plus lourds qu'un trou noir ?" src="images/deno-node_module-meme.jpg" /&gt;
&lt;p class="caption"&gt;Mème concernant la taille volumineuse du dossier &lt;tt class="docutils literal"&gt;node_modules&lt;/tt&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="développement"></category><category term="développement"></category><category term="script"></category><category term="javascript"></category><category term="typescript"></category><category term="node"></category><category term="deno"></category></entry><entry><title>Vagrant</title><link href="https://lpenaud.github.io/vagrant.html" rel="alternate"></link><published>2019-10-20T19:59:58+02:00</published><updated>2019-10-20T20:00:03+02:00</updated><author><name>Penaud Loïc</name></author><id>tag:lpenaud.github.io,2019-10-20:/vagrant.html</id><summary type="html">&lt;p class="first last"&gt;Pourquoi Vagrant c’est bien et comment l’installer et l’utiliser&lt;/p&gt;
</summary><content type="html">&lt;div class="figure"&gt;
&lt;object data="/images/vagrant-logo.svg" type="image/svg+xml"&gt;
&lt;/object&gt;
&lt;/div&gt;
&lt;p&gt;Vagrant est un outil puissant pour les développeurs surtout lorsqu’on sait s’en servir.&lt;/p&gt;
&lt;p&gt;Cet article a pour but de vous faire savoir pourquoi j’ai commencé à utiliser Vagrant et à faire un tour d’horizon sur les fonctionnalités qu’il propose.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;div class="contents topic" id="sommaire"&gt;
&lt;p class="topic-title first"&gt;Sommaire&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference internal" href="#pourquoi-lutiliser" id="id8"&gt;Pourquoi l’utiliser&amp;nbsp;?&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="#le-probleme-initial" id="id9"&gt;Le problème initial&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#la-solution" id="id10"&gt;La solution&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#comment-lutiliser" id="id11"&gt;Comment l’utiliser ?&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="#premiere-etape-installations" id="id12"&gt;Première étape – Installations&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="#gnu-linux" id="id13"&gt;GNU / Linux&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#windows" id="id14"&gt;Windows&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#seconde-etape-initialisation" id="id15"&gt;Seconde étape – Initialisation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#troisieme-etape-lancement" id="id16"&gt;Troisième étape – Lancement&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#quatrieme-etape-communication" id="id17"&gt;Quatrième étape – Communication&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="#par-ssh" id="id18"&gt;Par ssh&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#via-le-repertoire-partage" id="id19"&gt;Via le répertoire partagé&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#cinquieme-etape-configuration" id="id20"&gt;Cinquième étape – Configuration&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="#redirection-de-port" id="id21"&gt;Redirection de port&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#installation-des-dependances-du-projet" id="id22"&gt;Installation des dépendances du projet&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#aide-memoire" id="id23"&gt;Aide-mémoire&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="#commandes" id="id24"&gt;Commandes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="#vagrantfile" id="id25"&gt;Vagrantfile&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;hr class="docutils" /&gt;
&lt;div class="section" id="pourquoi-lutiliser"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Pourquoi l’utiliser&amp;nbsp;?&lt;/a&gt;&lt;/h2&gt;
&lt;div class="section" id="le-probleme-initial"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Le problème initial&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Bien que je sois un très grand fan de GNU / Linux parfois j’utilise Windows.
Cependant, je n’apprécie pas Windows en tant que système d’exploitation pour faire du développement
et j’ai trouvé très vite lourd le fait de devoir passer d’un système d’exploitation à un autre à l’aide d’un amorçage double &lt;a class="footnote-reference" href="#id5" id="id1"&gt;[1]&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="la-solution"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#sommaire"&gt;La solution&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Vagrant permet de créer facilement une machine virtuelle sur VirtualBox et plein d’autre hyperviseur.
Ce qui me permet de développer sur GNU / Linux, le tout en étant sur Windows.&lt;/p&gt;
&lt;p&gt;De plus à l’aide d’un fichier qu’on appelle &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt; on peut configurer facilement la machine virtuelle.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="comment-lutiliser"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Comment l’utiliser ?&lt;/a&gt;&lt;/h2&gt;
&lt;div class="section" id="premiere-etape-installations"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Première étape – Installations&lt;/a&gt;&lt;/h3&gt;
&lt;div class="section" id="gnu-linux"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="#sommaire"&gt;GNU / Linux&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Si vous êtes sur un système GNU / Linux utiliser votre gestionnaire de paquets en administrateur afin d’installer VirtualBox et Vagrant.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="windows"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Windows&lt;/a&gt;&lt;/h4&gt;
&lt;div class="section" id="virtualbox"&gt;
&lt;h5&gt;VirtualBox&lt;/h5&gt;
&lt;p&gt;Pour installer VirtualBox, il suffit d’aller sur le site officiel de VirtualBox à cette adresse : &lt;a class="reference external" href="https://www.virtualbox.org/wiki/Downloads"&gt;https://www.virtualbox.org/wiki/Downloads&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Puis de choisir la bonne version pour votre système d’exploitation.&lt;/p&gt;
&lt;p&gt;Ou vous utiliser &lt;a class="reference external" href="https://chocolatey.org/"&gt;chocolatey&lt;/a&gt; avec la commande suivante :&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
$ choco install virtualbox
&lt;/pre&gt;
&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;Au vu de se prémunir d’un problème d’encodage,
lancer VirtualBox puis aller dans le menu fichiers,
puis changer le dossier par défaut des machines vers un dossier sans espace ni accent à la racine de l’un de vos lecteurs.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h5&gt;Vagrant&lt;/h5&gt;
&lt;p&gt;Pour installer Vagrant, il suffit d’aller sur le site officiel de Vagrant à cette adresse : &lt;a class="reference external" href="https://www.vagrantup.com/downloads.html"&gt;https://www.vagrantup.com/downloads.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Puis de choisir la bonne version pour votre système d’exploitation.&lt;/p&gt;
&lt;p&gt;Ou vous utiliser &lt;a class="reference external" href="https://chocolatey.org/"&gt;chocolatey&lt;/a&gt; avec la commande suivante :&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
$ choco install vagrant
&lt;/pre&gt;
&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;Au vu de se prémunir d’un problème d’encodage,
rajouter la variable suivante dans votre environnement &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;VAGRANT_HOME=&amp;lt;chemin&lt;/span&gt; vers un dossier sans espace ni accent à la racine de l’un de vos lecteurs&amp;gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="seconde-etape-initialisation"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Seconde étape – Initialisation&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Il faut choisir une Vagrant Boxes qui est un système d’exploitation pré-configuré il en existe plein.
Dans notre exemple on choisira la boîte &lt;tt class="docutils literal"&gt;ubuntu/bionic64&lt;/tt&gt; qui est la dernière version LTF d’ubuntu &lt;a class="footnote-reference" href="#id6" id="id3"&gt;[2]&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Puis il suffit de taper la commande suivante dans le répertoire de votre choix :&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
$ vagrant init ubuntu/bionic64
&lt;/pre&gt;
&lt;p&gt;Cette commande devra générer un fichier nommé &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="troisieme-etape-lancement"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Troisième étape – Lancement&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Une fois que vous avez votre &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt;, vous pouvez taper la commande suivante dans le même répertoire afin de lancer la machine virtuelle :&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
$ vagrant up
&lt;/pre&gt;
&lt;p&gt;La première fois ça prend toujours un peu plus de temps, car Vagrant télécharge la boîte.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="quatrieme-etape-communication"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Quatrième étape – Communication&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Une fois que votre machine virtuelle c’est bien initialisé.
Vous pouvez communiquer avec elle.&lt;/p&gt;
&lt;div class="section" id="par-ssh"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Par ssh&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Vous pouvez lancer la commande suivante afin de communiquer en ssh avec la machine virtuelle :&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
$ vagrant ssh
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="via-le-repertoire-partage"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Via le répertoire partagé&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;En allant listant le contenu du répertoire &lt;tt class="docutils literal"&gt;/vagrant&lt;/tt&gt; de votre machine virtuelle vous pouvez constater qu’il y a les même fichiers que sur votre machine.
Les machines créées par Vagrant, partage toujours le dossier où il y a le &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt; de votre machine hôte.&lt;/p&gt;
&lt;p&gt;Donc si vous créez un fichier dans ce répertoire il sera automatiquement partagé entre la machine hôte et virtuelle.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="cinquieme-etape-configuration"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Cinquième étape – Configuration&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Maintenant nous allons voir des fonctionnalités que propose Vagrant grâce au &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt;.
En effet avoir une belle machine virtuelle c’est bien mais configurée directement c’est mieux.
Cela vous permet de rajouter à vos projets le fichier &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt; qui permettra aux développeurs
et à vous-même d’avoir un environnement de développement prêt même si vous changez d’ordinateur.&lt;/p&gt;
&lt;div class="admonition caution"&gt;
&lt;p class="first admonition-title"&gt;Avertissement!&lt;/p&gt;
&lt;p class="last"&gt;Pour prendre au compte les modifications du &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt; il faudra que vous redémarriez votre machine virtuelle à l’aide de la commande suivante :&lt;/p&gt;
&lt;!-- code

$ vagrant reload --&gt;
&lt;/div&gt;
&lt;div class="section" id="redirection-de-port"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Redirection de port&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;L’un des points pratique de Vagrant c’est qu’on peut facilement faire de la redirection de port.&lt;/p&gt;
&lt;p&gt;C’est d’ailleurs l’une des premières chose que fait Vagrant après avoir allumé votre machine.
Pour le vérifier vous pouvez taper cette ligne de votre terminale :&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
$ ssh vagrant&amp;#64;localhost -p 2222 -i .vagrant/machines/default/virtualbox/private_key
&lt;/pre&gt;
&lt;p&gt;Logiquement vous vous êtes connecté à votre machine virtuelle.
En effet, Vagrant créer une redirection de port sur l’hôte local &lt;a class="footnote-reference" href="#id7" id="id4"&gt;[3]&lt;/a&gt; au port 2222 vers le port 22 de la machine virtuel pour communiquer en ssh.
Comme l’indiquer sur le schéma suivant :&lt;/p&gt;
&lt;div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="{&amp;quot;highlight&amp;quot;:&amp;quot;#0000ff&amp;quot;,&amp;quot;lightbox&amp;quot;:false,&amp;quot;nav&amp;quot;:true,&amp;quot;zoom&amp;quot;:1.5,&amp;quot;resize&amp;quot;:true,&amp;quot;toolbar&amp;quot;:&amp;quot;zoom&amp;quot;,&amp;quot;edit&amp;quot;:&amp;quot;_blank&amp;quot;,&amp;quot;xml&amp;quot;:&amp;quot;&amp;lt;mxfile host=\&amp;quot;Electron\&amp;quot; modified=\&amp;quot;2019-10-19T16:19:50.687Z\&amp;quot; agent=\&amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.1.0 Chrome/76.0.3809.139 Electron/6.0.7 Safari/537.36\&amp;quot; etag=\&amp;quot;KADBMBf9bEnTG8wHOt1E\&amp;quot; version=\&amp;quot;12.1.0\&amp;quot; type=\&amp;quot;device\&amp;quot; pages=\&amp;quot;2\&amp;quot;&amp;gt;&amp;lt;diagram name=\&amp;quot;Step-1\&amp;quot; id=\&amp;quot;yfRgNmL5UC6R6sA0enTj\&amp;quot;&amp;gt;5VbJbtswEP0aHWto8Zaj1y5o0MVFmxwZaSwRoEWBoi0pX9+hSGqxjLopkqLLxZh5Jocz782QcoLVoXwtSJbc8giY47tR6QRrx/fnXoC/Cqg0MJ65GogFjTTktcCOPoIB7bIjjSDvLZScM0mzPhjyNIVQ9jAiBC/6y/ac9U/NSAwDYBcSNkS/0Ugmpix/1uJvgMaJOXkyN/UeiF1rCskTEvGiAwUbJ1gJzqW2DuUKmKLO0pK5n6W7udm+PX2C/P27bVLA6ZUOtn3KlqYCAal83tC+Dn0i7GjouiVhQlNw/CnDs5YPAq1YWV+pkEfVGjUXsrL84ikoJTrLIqESdhkJ1T8FNhNiiTww9Dw0SZ5pffe0BExqac4GIaE80+pKpV5DP3Yt8ANIUeE+27JGsKrvFq36ntU06SjfgMR0XNxEbmlFwzD7BJaDAcsfRERTIuEo/gI+x+M/jdDxgNAhjWm0ULcHeilPoU8dsiGqO3Rc69x3nXXZ8yrrlVTe2Qho33fwdoty7A6dFUSDG+pn9MBy+FGEcH18JREx/ChecFlfAYxIeuond0kss/Ujp5h20xfeWV80jWFD6PzNru7VdBYocK8E0gUOAtW909Tz6+00GbRTnieDjsKpkv02EpDTR/JQL1ByZyrBOuXJ0pms1YweJc/1k1iPLKNxijaDvQqlRpXiS7UwsORqxHOceJrGX5SzxlZ/ucE+5306HOzgwly/2FhPBzp47mg+ckc4dYsLM/7vKeJdf7vmv1MR+xHXkYRx5Cfhuaw1+S9UCWZXVbl5HlXQbT8o9fXWfpQHm+8=&amp;lt;/diagram&amp;gt;&amp;lt;/mxfile&amp;gt;&amp;quot;}"&gt;&lt;/div&gt;&lt;div class="section" id="redirection-de-lhote-local-de-votre-machine"&gt;
&lt;h5&gt;Redirection de l’hôte local de votre machine&lt;/h5&gt;
&lt;p&gt;Vous pouvez rajouter rediriger d’autres ports de la machine virtuelle.&lt;/p&gt;
&lt;p&gt;Imaginons que votre application utilise le port 8000 avec le protocole http et que vous souhaitez y accéder à l’adresse suivante : &lt;tt class="docutils literal"&gt;localhost:8000&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;Décommentez la ligne 31 de votre &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt; :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;network&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;forwarded_port&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;guest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;host&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;8080&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;host_ip&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;127.0.0.1&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cette ligne signifie que le port 80 de votre machine virtuelle va être redirigé sur le port 8080 de l’hôte local.
Il suffit donc de changer l’argument &lt;tt class="docutils literal"&gt;guest&lt;/tt&gt; et &lt;tt class="docutils literal"&gt;host&lt;/tt&gt; par 8000.&lt;/p&gt;
&lt;div class="admonition caution"&gt;
&lt;p class="first admonition-title"&gt;Avertissement!&lt;/p&gt;
&lt;p class="last"&gt;Votre application sur votre machine virtuelle ne doit pas écouter que l'hôte local.
Il faut qu’elle écoute son adresse publique.
La solution la plus simple est de changer l’adresse d’écoute par l’adresse &lt;tt class="docutils literal"&gt;0.0.0.0&lt;/tt&gt; si ce n’est pas déjà fait.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Vous devriez avoir donc cette ligne :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;network&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;forwarded_port&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;guest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;8000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;host&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;8000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;host_ip&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;127.0.0.1&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="{&amp;quot;highlight&amp;quot;:&amp;quot;#0000ff&amp;quot;,&amp;quot;lightbox&amp;quot;:false,&amp;quot;nav&amp;quot;:true,&amp;quot;zoom&amp;quot;:1.5,&amp;quot;resize&amp;quot;:true,&amp;quot;toolbar&amp;quot;:&amp;quot;zoom&amp;quot;,&amp;quot;edit&amp;quot;:&amp;quot;_blank&amp;quot;,&amp;quot;xml&amp;quot;:&amp;quot;&amp;lt;mxfile host=\&amp;quot;Electron\&amp;quot; modified=\&amp;quot;2019-10-19T16:20:17.375Z\&amp;quot; agent=\&amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.1.0 Chrome/76.0.3809.139 Electron/6.0.7 Safari/537.36\&amp;quot; etag=\&amp;quot;NJltfC1CAG6-4ZeZadw3\&amp;quot; version=\&amp;quot;12.1.0\&amp;quot; type=\&amp;quot;device\&amp;quot; pages=\&amp;quot;2\&amp;quot;&amp;gt;&amp;lt;diagram name=\&amp;quot;Step-2\&amp;quot; id=\&amp;quot;c131klW8t6bT565_GznW\&amp;quot;&amp;gt;5VjbTuMwEP2aPFLFcdIkj73A7mqFWIm9AG+mcRNLaRw5Lk35+h03dtLUFQVEq136UnlO7bHnnLlAHTxZ1F8EKbNrntDc8dykdvDU8bwIYfhUwLoB/NBtgFSwpIFQB9yyZ6pBs23JElr1NkrOc8nKPjjjRUFnsocRIfiqv23O8/6tJUmpBdzOSG6jf1giMx2WF3b4V8rSTN8cRDreBTF7dSBVRhK+2oLwpYMngnPZrBb1hOaKOkNLSMPvV6O5wOzy4QI9ZPHNt18XjbOrtxxpIxC0kB/r2mtcP5F8qem6JrOMFdTxhjncNX4UsErV6jcTcqlSY8OFXBt+4RaQEozxKmOS3pZkpr5ZQTIBlslFDhaCJanKRt85qyk8aqzvpkLSekerA5Giln7IWsoXVIo1nDMpqwVb981Vpz4ymmZbyrcg0RmXtp47WmGhmX0Dy9hi+UYkrCCSLsV/wKfv/2uE+hahNo1FMlLdA6yCF7RPHbAh1ndguMa43zamdc9aG6tm8s54gPX9Ft4dUYY50byKJlaHeo0eEA5fihk9XL6SiJS+5A/v11fQnEj21H/cPrH00R+cwbPbvEA7edEmhnHRvF+f2m5NO46we8BRE6DlaJM7bTzvT6ehlU5VlVkZBVUl+2kkaMWeyeNmg5K7VA/cPDkYO8FU1ehS8qoZiZuSzVlawDqnc+VKlSqDSTXSsOSqxCuoeFakP5UxhVQ/XmHv8j60CxvvqeujlXVo6YDcQTRwB1B1oz01/vkUQYdnV3RKRaKjNFr0jkaLzrnRRt7A94a+O4xChGIvDntJgqJwEIQ4iDHyosgNXfzONhzu9/PKa47cpM3/E1u5mElZnkFT8OKgL0RsdwX/lF0BoZcadeSasfK5VdkZnmjP9IxPqor9V3HOgaCMV3IzP89iguLw4AQ9rSrBi6qcSbHg4GTFAmb3m0wzfLrftfDlXw==&amp;lt;/diagram&amp;gt;&amp;lt;/mxfile&amp;gt;&amp;quot;}"&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class="section" id="etendre-la-portee-de-votre-machine-virtuelle"&gt;
&lt;h5&gt;Étendre la portée de votre machine virtuelle&lt;/h5&gt;
&lt;p&gt;Si vous voulez que les autres machines de votre réseau puissent accéder elle aussi aux services de votre machine virtuelle vous pouvez modifier la ligne 26 :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;network&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;forwarded_port&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;guest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;8000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;host&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;8000&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dans ce cas, le port 8000 de votre machine virtuelle sera accessible via le port 8000 de votre ordinateur.&lt;/p&gt;
&lt;div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="{&amp;quot;highlight&amp;quot;:&amp;quot;#0000ff&amp;quot;,&amp;quot;lightbox&amp;quot;:false,&amp;quot;nav&amp;quot;:true,&amp;quot;zoom&amp;quot;:1.5,&amp;quot;resize&amp;quot;:true,&amp;quot;toolbar&amp;quot;:&amp;quot;zoom&amp;quot;,&amp;quot;edit&amp;quot;:&amp;quot;_blank&amp;quot;,&amp;quot;xml&amp;quot;:&amp;quot;&amp;lt;mxfile host=\&amp;quot;Electron\&amp;quot; modified=\&amp;quot;2019-10-19T16:27:54.784Z\&amp;quot; agent=\&amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.1.0 Chrome/76.0.3809.139 Electron/6.0.7 Safari/537.36\&amp;quot; etag=\&amp;quot;bvYsO9_oSJATClRZsn9X\&amp;quot; version=\&amp;quot;12.1.0\&amp;quot; type=\&amp;quot;device\&amp;quot; pages=\&amp;quot;3\&amp;quot;&amp;gt;&amp;lt;diagram name=\&amp;quot;step-3\&amp;quot; id=\&amp;quot;oYa7kyQJZyjASMcxxCIH\&amp;quot;&amp;gt;5VlNc5swEP01PpZBCLA4xnHSTqeddppO2xwVkEEtRoyQazu/visQ2CCP03qCm4+TpUVaSe/tW61hgi+Xm7eSltlHkbB84rnJZoLnE89DiATwoy3bxhK2hlTyxAzaGW74PTNG11hXPGFVb6ASIle87BtjURQsVj0blVKs+8MWIu+vWtKUWYabmOa29TtPVNZYiTfd2d8xnmZm5YDg5sGStmPNQaqMJmK9Z8JXE3wphVBNa7m5ZLnGroXl/Zvk9n79jVxXV1/KhPz6vGbqTePs+l+mdCeQrFCP69prXP+m+crA9ZHGGS/YxAtzWGt2J6GV6tY3LtVKx0aNhdq2+MIqQCV0ZuuMK3ZT0lg/WUM0gS1Tyxx6CJq0Kht+F3zDYFMzszaTim0GXD1wUtTBD2HLxJIpuYV5xotvCDMBS0x3vWMftZxme8x3RmoiLu0872CFhkH2H1DGFsqfZMILqthKPgs8nxqgKLRhS0D1pluIQuMnxapINDJzF3pCqkykoqD5ByFKg+FPptTW5Cy6UqKPMCuSC52Bdi7Bcs31XmuXAKrc/ugGQ+dWP3GCtjvf7I+cb01vAS4uRS5kvXWcUEYWMdgrJcUvtvckjAm7W3TU6jOeQCzgJFYyZsfG+SYzU5myYw7x4UiRLKeK/+7v7vFp95+3kMKBkDz3vyvJRtTG0VJBTyJGAm5PAg8IgG246nQD7ds9+26K7rQzxhaAd6b4N1M/Cw7b7gIDDQODDPhu9m9m7V/yA0cQYscdNQe0HNWx053n9HAKrHCqqsyKKJCV6oeRZBW/p3f1AE13qTdYbzmYTYK5Filk56pJ1LVmc54W0M7ZQrvSWuVQ810Ys9IZflaB5HmRfq3TPYT6eMoe4h7awsYHdD2arEOLB+Q6xHEdUN3FAY2/PEbQw1UgOScj01ESLToh0aLXnGh9z/G90HdDMkUo8qJpL0gQmTrBFAcRRh4h7tTFp6VhjA/7+ctlRk7SxArFTKnyFeQELwj6PER2UvDPmRSiY2mauG1V8KJJQYOrEx24O6NzktK+uNpjJRcAUCYqVd+er+L+xPjB+/O8rKCjrLwSsWD01MRi1zVwrTooJA56ilns1Fcvj09lEAyoxDaVCJ2Ty0Ml6Yt+q9ZWx20RvLfOf6uP8V/Wx94o9TF2Iyfy/dDFJCAugSgdFK6uEwVegKZBBFU0IqeVxx4KnIFjdxDUI5fAnv1K/gtLuGSx4qIYM1/FECZMPsuMZV0+aLT/1NDdfVhrSN99ncRXfwA=&amp;lt;/diagram&amp;gt;&amp;lt;/mxfile&amp;gt;&amp;quot;}"&gt;&lt;/div&gt;&lt;p&gt;Sinon vous pouvez aussi faire en sorte que votre machine virtuelle fasse partie de votre réseau, pour cela décommentez la ligne 40.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;network&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;public_network&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant votre machine virtuelle est considérée comme un appareil qui serait connecté à votre réseau.&lt;/p&gt;
&lt;div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="{&amp;quot;highlight&amp;quot;:&amp;quot;#0000ff&amp;quot;,&amp;quot;lightbox&amp;quot;:false,&amp;quot;nav&amp;quot;:true,&amp;quot;zoom&amp;quot;:1.5,&amp;quot;resize&amp;quot;:true,&amp;quot;toolbar&amp;quot;:&amp;quot;zoom&amp;quot;,&amp;quot;edit&amp;quot;:&amp;quot;_blank&amp;quot;,&amp;quot;xml&amp;quot;:&amp;quot;&amp;lt;mxfile host=\&amp;quot;Electron\&amp;quot; modified=\&amp;quot;2019-10-19T16:36:24.144Z\&amp;quot; agent=\&amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.1.0 Chrome/76.0.3809.139 Electron/6.0.7 Safari/537.36\&amp;quot; etag=\&amp;quot;yivDdXJfRHfQ7YiqTWAv\&amp;quot; version=\&amp;quot;12.1.0\&amp;quot; type=\&amp;quot;device\&amp;quot; pages=\&amp;quot;4\&amp;quot;&amp;gt;&amp;lt;diagram name=\&amp;quot;page-4\&amp;quot; id=\&amp;quot;1MSpEVdIaEvBATusKa1R\&amp;quot;&amp;gt;5VjbcpswEP0aHutBEjc/xnbSTJtMO0mnTfKmgAC1GDFCju18fVcgwAQ3FzfO5DLjB+1aWknnnD3YWGQ6X32WtEhPRcQyC9vRyiIzC2PkYGzpjx2t60zQJBLJIzOpS5zzW2aStskueMTK3kQlRKZ40U+GIs9ZqHo5KqVY9qfFIuvvWtCEDRLnIc2G2V88UmlzC7/LHzOepGZnNyD1F3PazDUXKVMaieVGihxaZCqFUPVovpqyTGPXwELOji+vUurfnJzFX45Pb69i/PVTXezoKUvaG0iWq+ctbai8odnCwHVKw5TnzMJeBntNriWMEj36yaVaaG1UWKh1gy/sAlRCMFmmXLHzgob6myWoCXKpmmcQIRjSsqj5jfmKwaEmZm8mFVvd4eqBm6IWfpAtE3Om5BrWmSqOIawRrAmXHfuo4TTdYL5NUqO4pK3cwQoDg+wTUCYDlL/JiOdUsYV8E3i+NkCdIWoRNL0Jc5Fr+KRY5JEGZmZDJKRKRSJymp0IURgIfzOl1say6EKJPsAsjw60AXUlIXPE9VGrkjEMpyITsjoCiSgL4hDypZLiD9v4xgsDdh23DOmz7sAP3FcsZMjumecaf6UyYffVw9v5liyjit/0D/fs5LlvvRt6zfAKusEbADqEcSDlns7hFBdG1FVwuRnMVr1o3UQrri6aCjC+3Mh3S3TQrNi3+vEj1U/+U/1m6XfB4ditLpD9D2E0Jerzm1WbD+o7hbD3QKH6goNClXba++wuJ38gp7JMB4qCrlJ9GUlW8lt6XU3QdBf6gNWR3YnlznSPgsWWtdtWLZvxJIdxxmJdSrcqh99tByattE1PSuh4nic/Ks8G499fY9/F3Rs2NtnS13tr62DAAxrjEfKCERpB4x1safP3Rwp6xI85+yVZGe/FbNEOZos+stk6eORgz7G9wEfQFmO/pxIU+CPXJ+6YIBwEtm+T3ayYkO11HrnNno26+Ye9ocVUqeIDuAJ23T4R46EtOC/pCgg9YNaB3bjUuyYG3XmGoi0PUYRelBnnbTGz65/KPXBp95usfaO3By4h7F6k1f7YvY0kh38B&amp;lt;/diagram&amp;gt;&amp;lt;/mxfile&amp;gt;&amp;quot;}"&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="installation-des-dependances-du-projet"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Installation des dépendances du projet&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;L’un des points pratique de Vagrant c’est que l’on peut exécuter des lignes de commande lors du premier démarrage de la machine.&lt;/p&gt;
&lt;p&gt;En effet grâce à l’option &lt;tt class="docutils literal"&gt;config.vm.provision&lt;/tt&gt; du &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt; vous pouvez lancer des lignes de commande au démarrage de votre machine.&lt;/p&gt;
&lt;p&gt;Par exemple vous pouvez rajouter les commandes suivantes pour installer NGINX :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;provision&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;shell&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;inline&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;-&lt;/span&gt;&lt;span class="dl"&gt;SHELL&lt;/span&gt;
&lt;span class="sh"&gt;  sudo apt-get update&lt;/span&gt;
&lt;span class="sh"&gt;  sudo apt-get install -y nginx&lt;/span&gt;
&lt;span class="dl"&gt;SHELL&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ces lignes de commande devront s’éxécuter après l’installation de la machine virtuelle.
Si vous voulez les exécuter après, vous pouvez taper cette commande dans le terminal de votre ordinateur :&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
$ vagrant provision
&lt;/pre&gt;
&lt;p&gt;Si vous avez un script shell déjà à votre disposition vous pouvez l’exécuter en remplaçant ce que nous avons fait plus tôt par :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;provision&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;shell&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;script.sh&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Après l’installation de la machine virtuelle le fichier &lt;tt class="docutils literal"&gt;script.sh&lt;/tt&gt; devra être exécuté.&lt;/p&gt;
&lt;table class="docutils footnote" frame="void" id="id5" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id1"&gt;[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Un Amorçage double ou dual-boot permet à l’utilisateur d’installer plusieurs systèmes d’exploitation sur son ordinateur et d’en choisir un lors du démarrage.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id6" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id3"&gt;[2]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Une version LTS (Long Term Support, Support à long terme en français) d’Ubuntu garanti le support du système pendant 5 ans.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id7" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id4"&gt;[3]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;L’hôte local ou localhost du machine est une adresse accessible uniquement par elle-même.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="aide-memoire"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Aide-mémoire&lt;/a&gt;&lt;/h2&gt;
&lt;div class="section" id="commandes"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Commandes&lt;/a&gt;&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;vagrant init &amp;lt;vagrant box&amp;gt;&lt;/tt&gt; Crée le &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt; avec la boîte que vous avez choisie.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;vagrant up&lt;/tt&gt; Installe et / ou démarre la machine virtuelle configurée par le &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;vagrant reload&lt;/tt&gt; Redémarrer la machine virtuelle configurée par le &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;vagrant halt&lt;/tt&gt; Éteint la machine virtuelle configurée par le &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;vagrant destroy&lt;/tt&gt; Supprime la machine virtuelle configurée par le &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt; et l'éteint si ce n’est pas déjà fait.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;vagrant provision&lt;/tt&gt; Éxecute le script post-installation de la machine virtuelle configurée par le &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;vagrant box update&lt;/tt&gt; Met à jour la boîte spécifiée dans le fichier &lt;tt class="docutils literal"&gt;Vagrantfile&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="vagrantfile"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#sommaire"&gt;Vagrantfile&lt;/a&gt;&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;config.vm.box = &amp;quot;ubuntu/bionic64&amp;quot;&lt;/tt&gt; Le nom de la boîte à installer.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;config.vm.box_check_update&lt;/tt&gt; Si Vagrant doit vérifier si la boîte a des mises à jour disponible (&lt;tt class="docutils literal"&gt;true&lt;/tt&gt; / &lt;tt class="docutils literal"&gt;false&lt;/tt&gt; par défaut &lt;tt class="docutils literal"&gt;true&lt;/tt&gt;).&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;config.vm.network &amp;quot;forwarded_port&amp;quot;&lt;/tt&gt; Configure une redirection de port de la machine virtuelle, voir : &lt;a class="reference internal" href="#redirection-de-port"&gt;Redirection de port&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;config.vm.network &amp;quot;private_network&amp;quot;&lt;/tt&gt; Crée un réseau privé entre la machine virtuelle et l’hôte.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;config.vm.network &amp;quot;public_network&amp;quot;&lt;/tt&gt; Permet à la machine virtuelle de rejoindre le réseau de l’hôte comme un appareil normal.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;config.vm.synced_folder &amp;lt;chemin vers un dossier de l’hôte&amp;gt; &amp;lt;chemin vers un dossier de la machine virtuelle&amp;gt;&lt;/tt&gt; Permet de rajouter un nouveau dossier à synchroniser entre la machine virtuelle et l’hôte.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;config.vm.provision &amp;quot;shell&amp;quot;, &amp;lt;inline | path&amp;gt;&lt;/tt&gt; Script post-installation de la machine virtuelle soit un chemin fait un fichier script (sh) soit directement des instructions, voir : &lt;a class="reference internal" href="#installation-des-dependances-du-projet"&gt;Installation des dépendances du projet&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;script type="text/javascript" src="/js/viewer.min.js"&gt;&lt;/script&gt;&lt;/div&gt;
&lt;/div&gt;
</content><category term="Développement"></category><category term="virtualisation"></category><category term="développement"></category><category term="virtualbox"></category><category term="vagrant"></category><category term="linux"></category><category term="windows"></category></entry></feed>